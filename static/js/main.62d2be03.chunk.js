(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{31:function(e,a,t){e.exports=t(60)},36:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(26),l=t.n(c),o=t(7),s=t(1),m=(t(36),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__capture"},"People Table Application"),r.a.createElement("nav",{className:"header__nav"},r.a.createElement("ul",{className:"header__nav-list"},r.a.createElement("li",{className:"header__nav-item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"header__nav-link",activeClassName:"header__nav-link--active"},"Home")),r.a.createElement("li",{className:"header__nav-item"},r.a.createElement(o.b,{to:"/people",className:"header__nav-link",activeClassName:"header__nav-link--active"},"People")))))}),u=function(){return r.a.createElement("h1",{className:"home-page"},"Home page")},i=function(){return r.a.createElement("h1",{className:"error-page"},"Page Not Found")},p=t(14),h=t.n(p),f=t(15),d=t(28),b=t(10),_=t(29),E=t.n(_),N=t(30),v=t.n(N),g=function(e){var a,t,n=e.info,c=Object(s.g)(),l=Object(s.i)().slug,o=Object(s.h)(),m=new URLSearchParams(o.search),u=null===(a=n.motherName)||void 0===a?void 0:a.name,i=null===(t=n.fatherName)||void 0===t?void 0:t.name;return r.a.createElement("tr",{onClick:function(){c.push({pathname:"/people/".concat(n.slug),search:m.toString()})},className:v()("table__person",{"table__person-cell--male":"m"===n.sex,"table__person-cell--female":"f"===n.sex,"tab-person--selected":n.slug===l})},r.a.createElement("td",{className:"table__person-cell"},n.name),r.a.createElement("td",{className:"table__person-cell"},n.sex),r.a.createElement("td",{className:"table__person-cell"},n.born),r.a.createElement("td",{className:"table__person-cell"},n.died),r.a.createElement("td",{className:"table__person-cell"},i||"not found"),r.a.createElement("td",{className:"table__person-cell"},u||"not found"))},O=function(e){var a=e.name,t=Object(s.g)(),n=Object(s.h)(),c=new URLSearchParams(n.search),l=c.get("sortBy"),o=c.get("sortOrder")||"";return r.a.createElement("th",{className:"table__header-cell",onClick:function(){"Mother"!==a&&"Father"!==a&&(c.set("sortBy","".concat(a)),c.set("sortOrder","".concat(function(e){switch(e){case"asc":return"desc";case"desc":default:return"asc"}}(o))),t.push({search:c.toString()}))}},a,a===l&&"*")},j=function(e){var a=e.columnNames;return r.a.createElement("thead",{className:"table__header"},r.a.createElement("tr",{className:"table__header-row"},a.map((function(e){return r.a.createElement(O,{name:e,key:e})}))))},w=function(e){var a=e.people;return r.a.createElement("table",{className:"table"},r.a.createElement("caption",{className:"table__capture"},"People table"),r.a.createElement(j,{columnNames:["Name","Sex","Born","Died","Mother","Father"]}),r.a.createElement("tbody",{className:"table__body"},a.map((function(e){return r.a.createElement(g,{info:e,key:e.name+e.died})}))))},x=function(){var e=Object(n.useState)([]),a=Object(b.a)(e,2),t=a[0],c=a[1],l=Object(s.g)(),o=Object(s.h)(),m=new URLSearchParams(o.search),u=m.get("query")||"",i=m.get("sortBy")||"",p=m.get("sortOrder")||"",_=function(e,a){var t=Object(n.useState)(e),r=Object(b.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){l(e)}),a);return function(){clearTimeout(t)}}),[e,a]),c}(u,500),N=function(e){switch(e){case"Name":return function(e,a){return e.name.localeCompare(a.name)};case"Sex":return function(e,a){return e.sex.localeCompare(a.sex)};case"Born":return function(e,a){return e.born-a.born};default:return function(e,a){return e.died-a.died}}};Object(n.useEffect)((function(){(function(){var e=Object(d.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://mate-academy.github.io/react_people-table/api/people.json");case 2:a=e.sent,t=a.data,c(t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{fatherName:t.find((function(a){return e.fatherName===a.name})),motherName:t.find((function(a){return e.motherName===a.name}))})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(e,a){if(!e)return a;var t=e.toLowerCase();return a.filter((function(e){return e.fatherName&&e.motherName?"".concat(e.name,"\n              + ").concat(e.fatherName.name,"\n              +").concat(e.motherName.name).toLowerCase().includes(t):e.name.toLowerCase().includes(t)}))},g=Object(n.useMemo)((function(){return"asc"===p||""===p?v(_,t).sort(N(i)):v(_,t).sort(N(i)).reverse()}),[_,t,i,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:u,onChange:function(e){m.set("query",e.target.value),l.push({search:m.toString()})}}),r.a.createElement(w,{people:g}))},y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/people/:slug?",component:x}),r.a.createElement(s.b,{path:"/",exact:!0,component:u}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,{component:i})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.62d2be03.chunk.js.map