(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{31:function(e,a,t){e.exports=t(60)},36:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(25),l=t.n(c),o=t(7),m=t(1),s=(t(36),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__capture"},"People Table Application"),r.a.createElement("nav",{className:"header__nav"},r.a.createElement("ul",{className:"header__nav-list"},r.a.createElement("li",{className:"header__nav-item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"header__nav-link",activeClassName:"header__nav-link--active"},"Home")),r.a.createElement("li",{className:"header__nav-item"},r.a.createElement(o.b,{to:"/people",className:"header__nav-link",activeClassName:"header__nav-link--active"},"People")))))}),u=function(){return r.a.createElement("h1",{className:"home-page"},"Home page")},i=function(){return r.a.createElement("h1",{className:"error-page"},"Page Not Found")},p=t(13),h=t.n(p),d=t(14),f=t(27),b=t(30),_=t(28),N=t.n(_),E=t(29),v=t.n(E),g=function(e){var a,t,n=e.info,c=Object(m.g)(),l=Object(m.i)().slug,o=Object(m.h)(),s=new URLSearchParams(o.search),u=null===(a=n.motherName)||void 0===a?void 0:a.name,i=null===(t=n.fatherName)||void 0===t?void 0:t.name;return r.a.createElement("tr",{onClick:function(){c.push({pathname:"/people/".concat(n.slug),search:s.toString()})},className:v()("table__person",{"table__person-cell--male":"m"===n.sex,"table__person-cell--female":"f"===n.sex,"tab-person--selected":n.slug===l})},r.a.createElement("td",{className:"table__person-cell"},n.name),r.a.createElement("td",{className:"table__person-cell"},n.sex),r.a.createElement("td",{className:"table__person-cell"},n.born),r.a.createElement("td",{className:"table__person-cell"},n.died),r.a.createElement("td",{className:"table__person-cell"},i||"not found"),r.a.createElement("td",{className:"table__person-cell"},u||"not found"))},j=function(e){var a=e.name,t=Object(m.g)(),n=Object(m.h)(),c=new URLSearchParams(n.search),l=c.get("sortBy");return r.a.createElement("th",{className:"table__header-cell",onClick:function(){"Mother"!==a&&"Father"!==a&&(c.set("sortBy","".concat(a)),t.push({search:c.toString()}))}},a,a===l&&"*")},O=function(e){var a=e.columnNames;return r.a.createElement("thead",{className:"table__header"},r.a.createElement("tr",{className:"table__header-row"},a.map((function(e){return r.a.createElement(j,{name:e,key:e})}))))},x=function(e){var a=e.people;return r.a.createElement("table",{className:"table"},r.a.createElement("caption",{className:"table__capture"},"People table"),r.a.createElement(O,{columnNames:["Name","Sex","Born","Died","Mother","Father"]}),r.a.createElement("tbody",{className:"table__body"},a.map((function(e){return r.a.createElement(g,{info:e,key:e.name+e.died})}))))},y=function(){var e=Object(n.useState)([]),a=Object(b.a)(e,2),t=a[0],c=a[1],l=Object(m.g)(),o=Object(m.h)(),s=new URLSearchParams(o.search),u=s.get("query")||"",i=s.get("sortBy")||"";Object(n.useEffect)((function(){(function(){var e=Object(f.a)(h.a.mark((function e(){var a,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://mate-academy.github.io/react_people-table/api/people.json");case 2:a=e.sent,t=a.data,c(t.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{fatherName:t.find((function(a){return e.fatherName===a.name})),motherName:t.find((function(a){return e.motherName===a.name}))})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=Object(n.useMemo)((function(){return function(e,a){if(!e)return a;var t=e.toLowerCase();return a.filter((function(e){return e.fatherName&&e.motherName?"".concat(e.name,"\n              + ").concat(e.fatherName.name,"\n              +").concat(e.motherName.name).toLowerCase().includes(t):e.name.toLowerCase().includes(t)}))}(u,t).sort(function(e){switch(e){case"Name":return function(e,a){return e.name.localeCompare(a.name)};case"Sex":return function(e,a){return e.sex.localeCompare(a.sex)};case"Born":return function(e,a){return e.born-a.born};default:return function(e,a){return e.died-a.died}}}(i))}),[u,t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:u,onChange:function(e){s.set("query",e.target.value),l.push({search:s.toString()})}}),r.a.createElement(x,{people:p}))},w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/people/:slug?",component:y}),r.a.createElement(m.b,{path:"/",exact:!0,component:u}),r.a.createElement(m.a,{from:"/home",to:"/"}),r.a.createElement(m.b,{component:i})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.8d172107.chunk.js.map